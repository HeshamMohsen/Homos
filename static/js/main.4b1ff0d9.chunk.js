(this["webpackJsonphomos-events-hub"]=this["webpackJsonphomos-events-hub"]||[]).push([[0],{22:function(e,t,a){e.exports=a(44)},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(5),r=a.n(c),s=a(1),i=a(4),m=a(20),o=a(8),u=a(3),d={events:[],activeFilterName:"upcoming",showAddEvent:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":return Object(u.a)({},e,{events:[].concat(Object(o.a)(e.events),[t.event])});case"UPDATE_EVENT":return Object(u.a)({},e,{events:e.events.map((function(e){return e.id===t.id?Object(u.a)({},e,{},t.updates):e}))});case"SET_ACTIVE_FILTER":return Object(u.a)({},e,{activeFilterName:t.name});case"SHOW_ADD_EVENT":return Object(u.a)({},e,{showAddEvent:t.state});default:return e}},E={labels:[],isModalOpen:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LABEL":return Object(u.a)({},e,{labels:[].concat(Object(o.a)(e.labels),[t.label])});case"DELETE_LABEL":return Object(u.a)({},e,{labels:e.labels.filter((function(e){return e.id!==t.id}))});case"IS_MODAL_OPEN":return Object(u.a)({},e,{isModalOpen:t.isOpen});default:return e}},b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,p=function(e){return{type:"SHOW_ADD_EVENT",state:e}},N=function(e){return{type:"IS_MODAL_OPEN",isOpen:e}};var _=Object(s.b)((function(e){return{showAddEvent:e.events.showAddEvent}}),(function(e){return{setShowAddEvent:function(t){return e(p(t))},setModalOpen:function(t){return e(N(t))}}}))((function(e){return l.a.createElement("div",{className:"navigation"},l.a.createElement("div",{className:"navigation__upper d-flex justify-content-between align-items-center px-3"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"circle rounded-circle rounded-pill circle--red"}),l.a.createElement("div",{className:"circle rounded-circle rounded-pill circle--green"}),l.a.createElement("div",{className:"circle rounded-circle rounded-pill circle--yellow"})),l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"navigation__inner py-5"},l.a.createElement("div",{className:"active"},l.a.createElement("i",{className:"fas fa-inbox item-icon"}),l.a.createElement("p",{className:"item-text"},"Events")),l.a.createElement("div",{onClick:function(){return e.setModalOpen(!0)}},l.a.createElement("i",{className:"fas fa-inbox item-icon"}),l.a.createElement("p",{className:"item-text"},"Labels"))),l.a.createElement("button",{className:"btn btn-primary rounded-circle align-self-center",onClick:function(){return e.setShowAddEvent(!e.showAddEvent)}},e.showAddEvent?l.a.createElement("i",{className:"fas fa-times"}):l.a.createElement("i",{className:"fas fa-plus"})))})),g=a(2);function O(e){var t=e.id,a=e.name,c=e.date,r=e.time,s=e.label,i=e.updateEvent,m=Object(n.useState)(!1),o=Object(g.a)(m,2),u=o[0],d=o[1],v=Object(n.useState)(5),E=Object(g.a)(v,2),f=E[0],b=E[1],p=function(e){var t=Object(n.useState)("-"),a=Object(g.a)(t,2),l=a[0],c=a[1],r=Object(n.useState)("-"),s=Object(g.a)(r,2),i=s[0],m=s[1],o=Object(n.useState)("-"),u=Object(g.a)(o,2),d=u[0],v=u[1],E=Object(n.useState)("-"),f=Object(g.a)(E,2),b=f[0],p=f[1],N=Object(n.useState)(!1),_=Object(g.a)(N,2),O=_[0],h=_[1];return Object(n.useEffect)((function(){var t=new Date(e).getTime(),a=setInterval((function(){var e=(new Date).getTime(),n=t-e;if(e>=t)return h(!0),clearInterval(a);var l=Math.floor(n/864e5),r=Math.floor(n%864e5/36e5),s=Math.floor(n%36e5/6e4),i=Math.floor(n%6e4/1e3);c(l),m(r),v(s),p(i)}),1e3);return function(){clearInterval(a)}}),[e]),O?{days:0,hours:0,minutes:0,seconds:0,eventStarted:O}:{days:l,hours:i,minutes:d,seconds:b}}("".concat(c," ").concat(r)),N=p.days,_=p.hours,O=p.minutes,h=p.seconds,j=p.eventStarted;return Object(n.useEffect)((function(){var e=j&&setInterval((function(){if(0===f)return i(t,{started:!0}),clearInterval(e);b(f-1),d(!u)}),500);return function(){clearInterval(e)}}),[j,t,i,f,u]),l.a.createElement("div",{className:"event mb-3 event--".concat(u)},l.a.createElement("div",{className:"event__header d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"event__time"},c),l.a.createElement("div",{className:"event__label"},s)),l.a.createElement("div",{className:"event__name my-3"},l.a.createElement("h2",{title:a},a)),l.a.createElement("div",{className:"event__timer my-3"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement("span",{className:"counter"},N),l.a.createElement("span",{className:"counter"},_),l.a.createElement("span",{className:"counter"},O),l.a.createElement("span",{className:"counter"},h))),l.a.createElement("div",{className:"text-right"},l.a.createElement("i",{className:"fas fa-trash-alt item-icon item-icon--fancy",onClick:function(){return i(t,{is_deleted:!0})},title:"delete event"})))}function h(e){var t=e.name,a=e.date,n=e.label;return l.a.createElement("div",{className:"event mb-3 w-100"},l.a.createElement("div",{className:"event__header d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"event__time"},a),l.a.createElement("div",{className:"event__label"},n)),l.a.createElement("div",{className:"event__name my-3"},l.a.createElement("h2",{title:t},t)))}function j(e){var t=e.id,a=e.name,n=e.date,c=e.label,r=e.updateEvent;return l.a.createElement("div",{className:"event mb-3 w-100"},l.a.createElement("div",{className:"event__header d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"event__time"},n),l.a.createElement("div",{className:"event__label"},c)),l.a.createElement("div",{className:"event__name my-3"},l.a.createElement("h2",{title:a},a)),l.a.createElement("div",{className:"text-right m-0"},l.a.createElement("i",{className:"fas fa-undo item-icon item-icon--fancy",onClick:function(){return r(t,{is_deleted:!1})},title:"undo event"})))}var w=Object(s.b)(void 0,(function(e){return{updateEvent:function(t,a){return e(function(e,t){return{type:"UPDATE_EVENT",id:e,updates:t}}(t,a))}}}))((function(e){var t=e.event,a=e.updateEvent;return{upcoming:function(){return l.a.createElement(O,Object.assign({},t,{updateEvent:a}))},started:function(){return l.a.createElement(h,t)},trashed:function(){return l.a.createElement(j,Object.assign({},t,{updateEvent:a}))}}[e.eventType]()}));var y=Object(s.b)((function(e){return{events:e.events}}),(function(e){return{setActiveFilterName:function(t){return e(function(e){return{type:"SET_ACTIVE_FILTER",name:e}}(t))}}}))((function(e){var t=e.events.activeFilterName,a=e.setActiveFilterName;return l.a.createElement("div",{className:"filters d-flex justify-content-center align-items-center flex-grow-1"},l.a.createElement("div",{className:"form-group flex-grow-1"}),l.a.createElement("span",{className:"upcoming"===t?"event__label mr-2":"event__label event__label--light mr-2",onClick:function(){a("upcoming")}},"Upcoming"),l.a.createElement("span",{className:"started"===t?"event__label mr-2":"event__label event__label--light mr-2",onClick:function(){a("started")}},"Started"),l.a.createElement("span",{className:"trashed"===t?"event__label mr-2":"event__label event__label--light mr-2",onClick:function(){a("trashed")}},"Trashed"))}));var S=Object(s.b)((function(e){return{events:e.events}}))((function(e){var t=e.events,a=t.events,c=t.activeFilterName,r=Object(n.useState)(a),s=Object(g.a)(r,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){m(a&&a.filter((function(e){return"upcoming"===c?!e.is_deleted&&!e.started:"started"===c?e.started:e.is_deleted})))}),[a,c]),l.a.createElement("div",{className:"events p-4"},l.a.createElement("main",{className:"d-flex justify-content-between align-items-center border-bottom my-3 pb-3"},l.a.createElement("h5",{className:"flex-grow-1"},"Events",l.a.createElement("span",{className:"event__label event__label--light ml-2"},null===a||void 0===a?void 0:a.length)),l.a.createElement(y,null)),l.a.createElement("div",{className:"events__overflow d-flex justify-content-start align-items-start flex-wrap"},null===i||void 0===i?void 0:i.map((function(e){return l.a.createElement(w,{event:e,key:e.name,eventType:c})}))))})),x=a(45);function A(e){var t=Object(n.useState)(e),a=Object(g.a)(t,2),l=a[0],c=a[1];return{value:l,onChange:function(e){c(e.target.value)}}}var D=Object(s.b)((function(e){return{labels:e.labels.labels}}),(function(e){return{setShowAddEvent:function(t){return e(p(t))},addEvent:function(t){return e(function(e){return{type:"ADD_EVENT",event:e}}(t))}}}))((function(e){var t,a=A(""),n=A(""),c=A(""),r=A("");return l.a.createElement("div",{className:"events p-4"},l.a.createElement("div",{className:"m-3 border-bottom m-0"},l.a.createElement("h5",null,"Add New Event")),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addEvent({id:Object(x.a)(),name:a.value,date:c.value,time:""===r.value?"00:00":r.value,label:n.value,is_deleted:!1,started:!1}),e.setShowAddEvent(!1)},className:"w-50"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"name",autoFocus:!0,required:!0,autoComplete:"off"},a))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Label"),l.a.createElement("select",Object.assign({className:"form-control"},n,{value:n.value}),l.a.createElement("option",null),null===(t=e.labels)||void 0===t?void 0:t.map((function(e){return l.a.createElement("option",{key:e.id},e.name)})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Date"),l.a.createElement("input",{className:"form-control",type:"date",name:"date",required:!0,value:new Date("".concat((new Date).getFullYear(),"-").concat(parseInt((new Date).getMonth()+1),"-").concat((new Date).getDate())).getTime()>new Date(c.value).getTime()?"":c.value,onChange:c.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Time"),l.a.createElement("input",{className:"form-control",type:"time",name:"time",value:(new Date).getTime()>new Date("".concat(c.value," ").concat(r.value)).getTime()?"":r.value,onChange:r.onChange})),l.a.createElement("button",{type:"submit",value:"Save",className:"btn btn-primary"},"Save")))})),T=a(14),L=a.n(T);var C=Object(s.b)(void 0,(function(e){return{deleteLabel:function(t){return e(function(e){return{type:"DELETE_LABEL",id:e}}(t))}}}))((function(e){var t=e.id,a=e.name,n=e.deleteLabel;return l.a.createElement("div",{className:"label d-flex justify-content-between align-items-center border-bottom py-1"},l.a.createElement("div",{className:"label__left"},l.a.createElement("i",{className:"fas fa-tag"}),l.a.createElement("span",{className:"label-name mx-2"},a)),l.a.createElement("div",{className:"label__right"},l.a.createElement("i",{className:"fas fa-trash",onClick:function(){return n(t)}})))}));L.a.setAppElement("#root");var M=Object(s.b)((function(e){return{labels:e.labels}}),(function(e){return{addLabel:function(t){return e(function(e){return{type:"ADD_LABEL",label:e}}(t))},setModalOpen:function(t){return e(N(t))}}}))((function(e){var t,a,c=e.labels,r=c.labels,s=c.isModalOpen,i=e.addLabel,m=e.setModalOpen,o=A(""),u=Object(n.useState)(""),d=Object(g.a)(u,2),v=d[0],E=d[1],f=Object(n.useRef)();return t=f,a=function(){return m(!1)},Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,a]),l.a.createElement("div",null,l.a.createElement(L.a,{isOpen:s,closeTimeoutMS:200,style:{overlay:{backgroundColor:"rgba(5, 25, 71, 0.61)"},content:{width:"25%",height:"400px",background:"#fff",margin:"auto",borderRadius:"10px",boxShadow:"0 3px 6px 0 rgba(0, 0, 0, 0.45)",border:"none",padding:"0",overflow:"hidden"}}},l.a.createElement("div",{ref:f,className:"label-modal h-100 p-3"},l.a.createElement("h6",null,"Labels"),l.a.createElement("div",{className:"py-3"},l.a.createElement("form",{className:"d-flex justify-content-between align-items-center",onSubmit:function(e){if(e.preventDefault(),E(""),r.find((function(e){return e.name===o.value})))return E("Label already exists.");var t={id:Object(x.a)(),name:o.value};i(t),o.onChange({target:{value:""}})}},l.a.createElement("div",{className:"form-group m-0"},l.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,autoFocus:!0},o,{placeholder:"add label name"})),v&&l.a.createElement("span",{className:"red-text"},v)),l.a.createElement("button",{type:"submit",className:"btn btn-primary rounded-circle"},l.a.createElement("i",{className:"fas fa-check"})))),l.a.createElement("div",{className:"labels"},null===r||void 0===r?void 0:r.map((function(e){return l.a.createElement(C,Object.assign({key:e.id},e))}))))))}));var k=Object(s.b)((function(e){return{showAddEvent:e.events.showAddEvent}}))((function(e){var t=e.showAddEvent;return l.a.createElement("div",{className:"app-container"},l.a.createElement("div",{className:"countdown"},l.a.createElement(_,null),t?l.a.createElement(D,null):l.a.createElement(S,null)),l.a.createElement(M,null))})),I=(a(41),a(42),a(43),Object(i.e)(Object(i.c)({events:v,labels:f}),b(Object(i.a)(m.a))));I.subscribe((function(){console.log(I.getState())})),r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,{store:I},l.a.createElement(k,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.4b1ff0d9.chunk.js.map